<!-- check this link how to add bootstrap in Sails: https://www.digitalentropy.co.uk/add-bootstrap-to-your-sailsjs-app/ -->

<div id="customer-with-orders" v-cloak class="container">
  <div class="row">
    <div class="row">
      <h3 class="col-md-8">Customer's Data</h3>
      <button class="col-md-2 btn btn-info btn-medium" type="button">Add</button>
    </div>
    <div class="row">
      <div class="col col-heading">Id</div>
      <div class="col col-heading">Name</div>
      <div class="col col-heading">Email</div>
      <div class="col col-heading">Telephone</div>
      <div class="col col-heading">Address</div>
      <div class="col col-heading">
        <button class="btn btn-warning btn-small" type="button">Edit</button>
        <button class="btn btn-danger btn-small" type="button">Delete</button>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <%= customerWithOrders.customer.id %>
    </div>
    <div class="col">
      <%= customerWithOrders.customer.name %>
    </div>
    <div class="col">
      <%= customerWithOrders.customer.email %>
    </div>
    <div class="col">
      <%= customerWithOrders.customer.telephone %>
    </div>
    <div class="col">
      <%= customerWithOrders.customer.address %>
    </div>
  </div>
  <button class="btn btn-primary btn-normal" type="button" data-bs-toggle="collapse" data-bs-target="#orderdata" aria-expanded="false" aria-controls="orderdata">
    Show Orders
  </button>
  <div class="row">
    <div class="card card-body">
      <h4 class="row">Orders' Data</h4>
      <div class="row">
        <div class="col col-heading">Id</div>
        <div class="col col-heading">Total Price</div>
        <div class="col col-heading">Created At</div>
        <div class="col col-heading">Updated At</div>
      </div>
      <div class="collapse" id="orderdata">
      <% for(let i=0; i < customerWithOrders.ordersWithProducts.length; i++) { %>
        <div class="row">
          <div class="col">
            <%= customerWithOrders.ordersWithProducts[i].id %>
          </div>
          <div class="col">
            <%= customerWithOrders.ordersWithProducts[i].totalPrice %>
          </div>
          <div class="col">
            <%= new Date().toLocaleDateString(customerWithOrders.ordersWithProducts[i].created) %>
          </div>
          <div class="col">
            <%= new Date().toLocaleDateString(customerWithOrders.ordersWithProducts[i].updated) %>
          </div>
          <h5 class="row">Product Data</h5>
          <div class="row">
            <div class="col col-heading">Id</div>
            <div class="col col-heading">Name</div>
            <div class="col col-heading">Price</div>
            <div class="col col-heading">Description</div>
            <div class="col col-heading">Quantity</div>
            <div class="col col-heading">Created At</div>
            <div class="col col-heading">Updated At</div>
          </div>
          <% for(let j=0; j < customerWithOrders.ordersWithProducts[i].products.length; j++) { %>
            <div class="row">
              <div class="col">
                <%= customerWithOrders.ordersWithProducts[i].products[j].id %>
              </div>
              <div class="col">
                <%= customerWithOrders.ordersWithProducts[i].products[j].name %>
              </div>
              <div class="col">
                <%= customerWithOrders.ordersWithProducts[i].products[j].price %>
              </div>
              <div class="col">
                <%= customerWithOrders.ordersWithProducts[i].products[j].description %>
              </div><div class="col">
                <%= //customerWithOrders.ordersWithProducts[i].products[j].description %>
              </div>
              <div class="col">
                <%= new Date().toLocaleDateString(customerWithOrders.ordersWithProducts[i].products[j].createdAt) %>
              </div>
              <div class="col">
                <%= new Date().toLocaleDateString(customerWithOrders.ordersWithProducts[i].products[j].updatedAt) %>
              </div>
            </div>
            <% } %>
        </div>
        <% } %>
      </div>
    </div>
  </div>
</div>